---
title: Handling Service Worker
---
Here you'll learn how to interact with the Service Worker from within your website/app space. Remember, webworkers MUST be served over https.

It's important to note that the Service Worker (which gets automatically generated by Workbox -- or you've configured Quasar CLI to use your custom one) runs in a separate thread. You can however interact with it from app-space from within `/src-pwa/register-service-worker.js` file.

Notice the [register-service-worker](https://github.com/yyx990803/register-service-worker) npm package, which comes out of the box along with Quasar CLI (so don't install it yourself).

::: warning
You may notice in some dev environments, that workbox will not load your service workers during `quasar dev` if you are not using https to serve - even on localhost. You will see that there are two scripts that can't load. The Chrome browser console is relatively tight-lipped about this, but Firefox tells you what is going on. The three options you have are: 
 - setup a loopback from localhost to 127.0.0.1 (but this is not without security implications)
 - set `https: true` in your quasar.conf.js devServer object
 - serve your localhost over ngrok and use the https address that ngrok provides
 
If you want to make an https cert for your localhost, check out this blog post by [Filippo](https://blog.filippo.io/mkcert-valid-https-certificates-for-localhost/).
:::

```js
import { register } from 'register-service-worker'

register(process.env.SERVICE_WORKER_FILE, {
  ready (registration) {
    console.log('Service worker is active.')
  },

  registered (registration) {
    console.log('Service worker has been registered.')
  },

  cached (registration) {
    console.log('Content has been cached for offline use.')
  },

  updatefound (registration) {
    console.log('New content is downloading.')
  },

  updated (registration) {
    console.log('New content is available; please refresh.')
  },

  offline () {
    console.log('No internet connection found. App is running in offline mode.')
  },

  error (error) {
    console.error('Error during service worker registration:', error)
  }
})
```

::: tip
This file is automatically bundled into your website/app by Quasar CLI because it is considered as part of app-space `/src`. What this means is that you can use ES6, import other files etc.
:::
