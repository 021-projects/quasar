$collapsible-border                   ?= 1px solid $grey-3
$collapsible-header-background  ?= white
$collapsible-content-background ?= white
$collapsible-popout-active-shadow     ?= $shadow-1

ul.collapsible
  margin .5rem 0 1rem
  padding 0
  list-style-type none

  > li
    list-style-type none
    border $collapsible-border

    > div:first-child
      display block
      cursor pointer
      min-height 3rem
      line-height 3rem
      padding 0 1rem
      background $collapsible-header-background
      text-overflow ellipsis
      white-space nowrap
      overflow hidden
      i
        width 2rem
        font-size 1.7rem
        margin-right .5rem

    > div:last-child
      max-height 0
      opacity 0
      overflow hidden
      transition all .3s

      &.card
        margin 0
        border-radius 0
        box-shadow none

    &.active
      > div:last-child
        padding 1rem
        max-height 9999px
        opacity 1

    &:last-child
      border-bottom $collapsible-border

  &:not(.popout)
    > li:not(:last-child)
      border-bottom 0

  &.popout
    > li
      border-top 0
      margin 0 24px
      transition all .35s cubic-bezier(.25, .46, .45, .94)

      &.active
        margin 16px 0
        box-shadow $collapsible-popout-active-shadow
    > li:first-child
      border-top $collapsible-border
