<div class="quasar-grid-table">
  <div>
    Rows per Page:
    <choice
      :model.sync="rowsPerPage"
      :options="rowsPerPageOptions"
      ok-label="Change"
      cancel-label="Cancel"
      title="Rows per Page"
    ></choice>
  </div>

  <div>
    Columns:
    <choice
      multiple
      :model.sync="chosenColumnsModel"
      :options="chosenColumnsOptions"
      ok-label="Select"
      cancel-label="Cancel"
      title="Visible Columns"
    ></choice>
  </div>

  <pagination :model.sync="page" :max="pagesNumber" v-show="rowsPerPage !== 0 && rowsNumber > 0"></pagination>

  <div v-if="selection">
    Selected {{selectedRows.length}} rows.
    <button :class="{disabled: selectedRows.length === 0}" v-for="action in selection.actions" class="primary" @click="action.handler(selectedRows)">{{action.label}}</button>
    <button :class="{disabled: selectedRows.length === 0}" class="secondary" @click="clearSelection()">Clear Selection</button>
  </div>

  <div>
    {{rowOffset + 1}} to {{Math.min(rowsNumber, rowsPerPage * page)}} of {{rowsNumber}} entries.
  </div>

  <table class="striped bordered">
    <thead>
      <tr>
          <th v-if="selection">
            &nbsp;
          </th>
          <th
            v-for="column in columns"
            v-show="column.hidden !== true"
            @click="sortBy(column.field)"
            :class="{'sortable-column': sortable}"
          >
            {{{column.label}}}
            <i v-show="sortField === column.field && sortOrder === -1">keyboard_arrow_down</i>
            <i v-show="sortField === column.field && sortOrder === 1">keyboard_arrow_up</i>
          </th>
      </tr>
    </thead>

    <tbody>
      <tr
        v-for="row in data | orderBy sortField sortOrder | limitBy computedRowsPerPage rowOffset"
        :track-by="idProperty"
      >
        <td v-if="selection">
          <radio v-if="selection.mode === 'single'" :model.sync="singleSelectedRow" :value="row"></radio>
          <checkbox v-else :model.sync="row.__selected"></checkbox>
        </td>
        <td v-for="column in columns" v-show="column.hidden !== true">
          {{{column.formatter ? column.formatter(row[column.field]) : row[column.field]}}}
        </td>
      </tr>
    </tbody>
  </table>

  <div v-show="data.length === 0">
    {{noDataLabel}}
  </div>
</div>
