.quasar-progress-bar
  position relative
  height 4px
  display block
  width 100%
  background-color $progress-bar-track-color
  border-radius $progress-bar-border-radius
  background-clip padding-box
  margin $progress-bar-margin
  overflow hidden

  &:not(.indeterminate) > div
    position absolute
    top 0
    bottom 0
    background-color $primary
    border-radius $progress-bar-border-radius
    transition width .3s linear

  &.animate
    > div
      animation quasar-progress-bar-stripes 2s linear infinite

  &.indeterminate > div
    background-color $progress-bar-default-track-color

    &:before, &:after
      content ''
      position absolute
      background-color inherit
      top 0
      left 0
      bottom 0
      will-change left, right

    &:before
      animation quasar-progress-bar-indeterminate 2.1s cubic-bezier(.65, .815, .735, .395) infinite
    &:after
      animation quasar-progress-bar-indeterminate-short 2.1s cubic-bezier(.165, .84, .44, 1) infinite
      animation-delay 1.15s

  &.stripe
    > div, > div:before, > div:after
      background-image linear-gradient(45deg, rgba(255, 255, 255, .15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .15) 50%, rgba(255, 255, 255, .15) 75%, transparent 75%, transparent)
      background-size 40px 40px

  for $name, $color in $colors
    &.{$name}
      > div
        background-color $color

body.desktop .quasar-progress-bar
  height 10px

@keyframes quasar-progress-bar-indeterminate
  0%
    left -35%
    right 100%
  60%
    left 100%
    right -90%
  100%
    left 100%
    right -90%

@keyframes quasar-progress-bar-indeterminate-short
  0%
    left -200%
    right 100%
  60%
    left 107%
    right -8%
  100%
    left 107%
    right -8%

@keyframes quasar-progress-bar-stripes
  from
    background-position 40px 0
  to
    background-position 0 0
